{% extends 'master.html' %}


{% block content %}

    <div class="row justify-content-center text-left">
        <div class="col-6">
            <form method="post" action="{% url 'add_loan' %}">
                {% csrf_token %}

                <div class="form-group">
                    <label for="{{ form.member.id_for_label }}">{{ form.member.label_tag }}</label>
                    <select class="custom-select" name="{{ form.member.name }}" id="{{ form.member.id_for_label }}">
                        {% for member in members %}
                            <option value="{{member.id}}">{{member.email}} (id: {{member.id}})</option>
                        {% endfor %}
                    </select>
                    {% if form.member.errors %}
                        <div class="alert alert-danger">
                            <ul style="text-align: left">
                                {% for error in form.member.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.book.id_for_label }}">{{ form.book.label_tag }}</label>
                    <select class="custom-select" name="{{ form.book.name }}" id="{{ form.book.id_for_label }}">
                        {% for book in books %}
                            <option value="{{book.id}}">{{book.title}} ({{book.author}})</option>
                        {% endfor %}
                    </select>
                    {% if form.member.errors %}
                        <div class="alert alert-danger">
                            <ul style="text-align: left">
                                {% for error in form.member.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.start_date.id_for_label }}">{{ form.start_date.label_tag }}</label>
                    <input type="text" class="form-control" id="{{ form.start_date.id_for_label }}" name="{{ form.start_date.name }}">
                    {% if form.start_date.errors %}
                        <div class="alert alert-danger">
                            <ul style="text-align: left">
                                {% for error in form.start_date.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.due_date.id_for_label }}">{{ form.due_date.label_tag }}</label>
                    <input type="text" class="form-control" id="{{ form.due_date.id_for_label }}" name="{{ form.due_date.name }}">
                    {% if form.due_date.errors %}
                        <div class="alert alert-danger">
                            <ul style="text-align: left">
                                {% for error in form.due_date.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>


                <input type="submit" class="btn btn-primary btn-lg" value="Dodaj"/>
            </form> 
        </div>
    </div>



{% endblock content %}